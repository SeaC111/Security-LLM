<div class="detail_content markdown-body editormd-preview-container" id="markdown-body">
<div id="app">
<p>周末闲来没事干，分享下周末挖的一个垃圾0day</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192645-19fd10d0-c25b-1.png"/><br/>
直接弱口令进去</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192656-20be2472-c25b-1.png"/><br/>
目的明确，找找上传点</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192708-27c702f2-c25b-1.png"/></p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230317111901-76afb3c8-c472-1.png"/><br/>
原来是小黑子（黑名单）</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192730-350df466-c25b-1.png"/><br/>
直接jspx上传看看</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192748-3f9d6664-c25b-1.png"/><br/>
上传成功，但你到是给我返回路径啊</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192804-4933b886-c25b-1.png"/><br/>
复制上面的看看</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192824-5521d8a8-c25b-1.png"/><br/>
我干，直接下载出来了，直接f12看看找找jpg路径</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192914-72f21b72-c25b-1.png"/><br/>
发现还是有相同时间命名的文件<br/>
Fuzz路径看看，应该2015是时间，logo是上传的参数，最后是时间命名的文件</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192927-7ab82504-c25b-1.png"/><br/>
全是400</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192942-83ddc7ec-c25b-1.png"/><br/>
真是多看一眼就爆炸，再近一点靠近点快被融化</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314192953-8a4ec482-c25b-1.png"/><br/>
在找找别的图片路径看看有没有发现<br/>
翻着翻着看见一个小喇叭，出于好奇点开看看</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193004-90b5df90-c25b-1.png"/></p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193015-975a984a-c25b-1.png"/><br/>
点开看看，开启f12大法</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193027-9e95c918-c25b-1.png"/></p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193035-a3276a90-c25b-1.png"/><br/>
突然这个时候想到，找个人设置瞅瞅<br/>
说出来不怕笑话，找个人设置找了半小时<br/>
Tm的藏这么深<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193045-a95fe2ac-c25b-1.png"/></p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193052-ad303f4e-c25b-1.png"/><br/>
你大爷的<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193059-b1b7c4d8-c25b-1.png"/><br/>
不急，咱们获取下路径就行，上传jpg看看（上传的照片是他之前的）<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193108-b726590c-c25b-1.png"/><br/>
然后拼接看看</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193118-bccc41b4-c25b-1.png"/><br/>
可行，我以为前段只是js校验的时候是我想多了。<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193128-c30cc17a-c25b-1.png"/><br/>
啥也不返回，然后我对比前面上传的包</p>
<p>一个path参数=cooperate，一个是=peopleinfo<br/>
原来path参数就是文件夹命名<br/>
那还说啥，直接拼接下机</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193145-ccefbddc-c25b-1.png"/><br/>
我真的会谢，我以为是我搞错的时候，上传个txt看看</p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193157-d42062a0-c25b-1.png"/></p>
<p><img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193207-da5be5a4-c25b-1.png"/><br/>
没毛病啊，难道是这个目录不解析jspx<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193219-e109047c-c25b-1.png"/><br/>
根目录是解析jspx的，所以尝试下path参数跨目录<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193227-e61a95b6-c25b-1.png"/><br/>
报500,不支持跨目录？，尝试下用/<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193237-ec2d4ea8-c25b-1.png"/><br/>
上传成功<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193247-f1cf928a-c25b-1.png"/><br/>
也不行，上传txt确可以跨了个目录<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193254-f5d32aea-c25b-1.png"/><br/>
也试了编码这些，正当准备提桶跑路的时候<br/>
想到../不行试下..\<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193302-fafc22ce-c25b-1.png"/><br/>
梭哈的艺术<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193309-ff3cadf4-c25b-1.png"/><br/>
正当准备复制连接的时候，不小心点快了，吧页面删了，直接重新传个命令马<br/>
<img src="https://xzfile.aliyuncs.com/media/upload/picture/20230314193317-03de6e74-c25c-1.png"/><br/>
愉快的周末，现在终于能下机了</p>
</div>
</div>